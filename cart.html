<!DOCTYPE html>
<html>

<head>
    <title>Homework</title>
    <meta charset="UTF-16">
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1' />
    <!--先避免網頁自動縮放，RWD寫在css-->
    <link rel="stylesheet" type="text/css" href="css/cart.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script> <!--for cookies-->
</head>
<header></header>
<body>
    <div class="title"><h2>Cart</h2></div>
    <div id="cart-items"></div>
    <button></button>
</body>







<script>

    
    function readJSONFile(file) {
        fetch(file).then(response => {
            return response.json();
        }).then(data => {
            let totalItems = data.items;
            renderItem(totalItems);
        });
    }
    readJSONFile("./seeders/item.json")


    var params = new URLSearchParams(window.location.search);
    let id = params.get("id").split(",");
    
    const adoptedCats = document.querySelector('#cart-items');


    function renderItem(totalItems) {
        id.forEach(function (id) {
            adoptedCats.innerHTML+=
                `
                <div class="adopted-cat">
                <div class="img"><img src="${totalItems[id].image_link}"/></div>
                <div class="name">${totalItems[id].name}</div>
                <div class="type">${totalItems[id].type}</div>
                <div class="gender">${totalItems[id].gender}</div>
                <div class="delete" onclick="del(this)" data-id="${id}">x</div>
                </div>
                <hr>
                `;
  
        })
    }

    function del(deleteCat){
        for(let i=0; i<id.length; i++){
            if(id[i]===deleteCat.dataset.id){
                id.splice(i, 1);
            }
        }
        renderItem(totalItems);
    };

</script>
</html>
